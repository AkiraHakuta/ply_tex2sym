% example.tex   Author: Akira Hakuta, Date: 2017/05/01
% pdflatex.exe -synctex=1 -interaction=nonstopmode example.tex
% pythontex.exe example.tex
% pdflatex.exe -synctex=1 -interaction=nonstopmode example.tex 

\documentclass[a4paper, 12pt]{article}
\setlength{\oddsidemargin}{-15mm}
\setlength{\evensidemargin}{0mm}
\setlength{\topmargin}{-15mm}
\setlength{\headheight}{6mm}
\setlength{\headsep}{5mm}
\setlength{\textwidth}{190mm}
\setlength{\textheight}{260mm} 
\setlength{\hoffset}{0mm}

\usepackage{pythontex}
\begin{pycode}
import sys
sys.path.append('../')#get parent directory
from sympy import *
from tex2sym_parser import tex2sym, mylatex, mylatexstyle
var('a:z') 
F=Function('F')
\end{pycode}

% variable : a,b,...,z,\alpha,\beta,\gamma,\theta,\oomega
% constant : pi --> \ppi, imaginary unit --> \ii, napier constant --> \ee

% ply_tex2sym latex expresion style
% \sin{x}
% \cos^{2}{\theta}
% \log{2}
% \log{2}{8}
% \frac{d}{dx}{(x^3+x^2+x+1)}
% \int{(x^3+x^2+x+1) dx}
% \int_{1}^{3}{(x-1)(x-3)^2 dx}
% \lim_{x \to -\infty} {(\sqrt{x^2+3x}+x)}
% \sum_{k=1}^{n}{k(k+1)^2}
% \left| 3 - \ppi \right|
% a_{n}
% \{a-2(b-c)\}^2

\usepackage{amsmath,amssymb}

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\bf\large ply\_tex2sym example~~~No.\thepage}
\fancyfoot{}
\renewcommand{\headrulewidth}{0.0pt}

\renewcommand{\labelenumi}{(\arabic{enumi})~~}
\def\myvspace{\vspace{2mm}}

\begin{document} 
	   
	\begin{enumerate}	
		\item \pyc{texexpr=r'2^3'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'2^{2^{2^2}}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'40!'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'_{10}P_{3}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace			
		
		\item \pyc{texexpr=r'\frac{\frac{1}{~2~}-\frac{1}{~3~}}{~~\frac{1}{~2~}+\frac{1}{~3~}~~}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle '+mylatexstyle(texexpr).replace(r'\frac',r'\dfrac')+'='+mylatex(result)+'$'}\myvspace
		
		\item \pyc{texexpr=r'\frac{1}{~2~}a+0.5a-3a\div 5'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle '+mylatexstyle(texexpr).replace(r'\frac',r'\dfrac')+'='+mylatex(factor(tex2sym(texexpr)))+'$'}\myvspace
		
		\item \pyc{texexpr=r'2a^3b^4(x-y)^2(x+y)^2'}
			\pyc{result=expand(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'\left(\frac{1}{~2~}\alpha +\frac{1}{~3~}\beta+\frac{1}{~6~}\gamma \right)^2'}
			\pyc{result=expand(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'_{3}C_{0}~a^3+\,_{3}C_{1}~a^2b+\,_{3}C_{2}~ab^2+_{3}C_{3}~b^3'}
			\pyc{result=factor(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'a^3+b^3+c^3-3abc'}
			\pyc{result=factor(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'(x+y)(y+z)(z+x)+xyz'}
			\pyc{result=factor(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'\frac{\sqrt{2}-1}{\sqrt{6}+\sqrt{3}}'}
			\pyc{result=radsimp(simplify(tex2sym(texexpr)))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace			
		
		\item \pyc{texexpr=r'\sqrt{~10-2\sqrt{21\,}~}'}
			\pyc{result=sqrtdenest(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'\sqrt[5]{\sqrt[3]{14348907~}~}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'\sqrt{7}\times\sqrt[3]{7}\times\sqrt[6]{7}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'\left|~ \left|\,3-\ppi \,\right|-1~\right|'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'(1+\ii)^3'}
			\pyc{result=nsimplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'\ee^{\ppi\ii}'}
			\pyc{result=nsimplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace			
		
		\item \pyc{texexpr=texexpr=r'\sin {\frac{5}{~4~}\ppi}~\cos {\frac{5}{~6~}\ppi}~\tan {\frac{5}{~3~}\ppi}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=texexpr=r'\sin^{2} {\frac{5}{~4~}\ppi}+\cos^{2} {\frac{5}{~6~}\ppi}+\tan^{2} {\frac{5}{~3~}\ppi}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'\log {\ee^5}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'\log_{2}{4^3}'} 
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'\frac{d}{dx}{(x^2\sin {\ppi x})}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'\frac{d}{dx} ~{(\log{ (\log{x})})}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'\frac{d}{dx} ~{\log_{\,x+1}{3}}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace			
		
		\item \pyc{texexpr=r'\frac{d}{dx} ~{\ee^{\ee x}}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace			
		
		\item \pyc{texexpr=r'\int{\theta\cos {\theta^2} \,d\theta}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}+C$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'\int{t^2\log{t} \,dt}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}+C$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
			 		
		\item \pyc{texexpr=r'\int_{1}^{3}{(x-1)(x-3)^2 \,dx}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'\sum_{k=1}^{n}{ k(k+1)^2}'}
			\pyc{result=factor(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'\lim_{x \to -\infty} {(\sqrt{x^2+3\,x}+x)}'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr = 'a_{n+1}=3a_{n}+12'}    
			\pyc{a1=3}  
			\pyc{result=rsolve(simplify(tex2sym(texexpr)),F(n), {F(1):a1})}
			\py{'$\displaystyle {:s},~~a_1={:d},~~~~solution:~a_n={:s}$'.format(mylatexstyle(texexpr),a1,mylatex(result))}\myvspace	
		
		\item \pyc{texexpr = 'a_{n+2}=12a_{n+1}-35a_{n}'}    
			\pyc{a1=2; a2=24}  
			\pyc{result=rsolve(simplify(tex2sym(texexpr)),F(n), {F(1):a1,F(2):a2})}
			\py{'$\displaystyle {:s},~~a_1={:d},~a_2={:d}~~~~solution:~a_n={:s}$'.format(mylatexstyle(texexpr),a1,a2,mylatex(result))}\myvspace			
		
		\item \pyc{texexpr=r'2x^2+3x+4=0'}
			\pyc{result=solveset(tex2sym(texexpr), x,  domain=S.Complexes )}
			\py{'$\displaystyle {:s},~~~~solution:~{:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'x^2-3x-4 \leqq 0'}
			\pyc{result=solve_univariate_inequality(simplify(tex2sym(texexpr)), x, relational=False)}
			\py{'$\displaystyle {:s},~~~~solution:~{:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
		\item \pyc{texexpr=r'x^3-2x^2-5x+6 \geqq 0'}
			\pyc{result=solve_univariate_inequality(simplify(tex2sym(texexpr)), x, relational=False)}
			\py{'$\displaystyle {:s},~~~~solution:~{:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace				
		\item \pyc{texexpr=r'-x^2-x^2'}
			\pyc{result=simplify(tex2sym(texexpr))}
			\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
			
				
		\item \pyc{texexpr=r'\left\{\frac{1}{~2~}a-\left(\frac{1}{~3~}b-\frac{1}{~4~}c\right)\right\}^2'}
		\pyc{result=expand(tex2sym(texexpr))}
		%\py{'$\displaystyle {:s}$'.format(mylatexstyle(texexpr))}\myvspace	
		\py{'$\displaystyle {:s}={:s}$'.format(mylatexstyle(texexpr),mylatex(result))}\myvspace	
		
	\end{enumerate}
	
\end{document}
